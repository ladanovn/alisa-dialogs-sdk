"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("./constants");
const utils_1 = require("./utils");
class Command {
    constructor(name, callback) {
        if (name === undefined) {
            throw new Error('Command name is not specified');
        }
        this.name = name;
        this.callback = callback;
        this.type = this._defineCommandType(this.name);
        return this;
    }
    _defineCommandType(name) {
        let type;
        if (utils_1.isFunction(name)) {
            type = constants_1.TYPE_MATCHER;
        }
        else if (typeof name === 'string') {
            type = constants_1.TYPE_STRING;
            if (name.includes('${')) {
                type = constants_1.TYPE_FIGURE;
            }
        }
        else if (name instanceof RegExp) {
            type = constants_1.TYPE_REGEXP;
        }
        else if (Array.isArray(name)) {
            type = constants_1.TYPE_ARRAY;
        }
        else {
            throw new Error(`Command name is not of proper type.
                Could be only string, array of strings, regular expression or function`);
        }
        return type;
    }
}
exports.default = Command;
